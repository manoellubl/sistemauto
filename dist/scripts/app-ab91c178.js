!function(){"use strict";var e=angular.module("app",["ngMaterial","angular-loading-bar","blockUI"]);e.constant("ApiUrl",{url:"http://localhost:8080/api"}),e.config(["blockUIConfig",function(e){e.delay=100}]),e.run(["cfpLoadingBar",function(e){e.start()}]),e.run(["$rootScope","$state","UserService",function(e,t,n){e.$on("$stateChangeStart",function(e,o){var a=o.authRequired;a&&!n.isAuthenticated()&&(t.transitionTo("login"),e.preventDefault())})}]),e.run(["$rootScope","$mdToast",function(e,t){e.$on("response:sucess:POST",function(){t.showSimple("Cadastrado com sucesso")}),e.$on("response:error:POST",function(){t.showSimple("Falha no cadastro")}),e.$on("response:sucess:PUT",function(){t.showSimple("Atualizado com sucesso")}),e.$on("response:error:PUT",function(){t.showSimple("Falha na atualização")})}]),e.config(["$httpProvider",function(e){e.interceptors.push("Interceptor")}])}(),function(){"use strict";function e(e,t,n){function o(e){window.localStorage.setItem("token-auth",e)}function a(){return window.localStorage.getItem("user-id")}function r(e){window.localStorage.setItem("user-id",e)}var i=this;this.user=void 0,this.login=function(a){var i=t.defer();return e.post(n.url+"/authenticate/login",a).then(function(e){o(e.data.token),r(e.data.id),i.resolve({})},function(e){i.reject(e)}),i.promise},this.logout=function(){var a=t.defer();return e.post(n.url+"/authenticate/logout").then(function(e){o(null),a.resolve(e)},function(e){a.reject(e)}),a.promise},this.postUser=function(t){return e.post(n.url+"/user",t)},this.isAuthenticated=function(){return null!==window.localStorage.getItem("token-auth")},this.get=function(){var o=t.defer();return void 0!==i.user?o.resolve({data:i.user}):e.get(n.url+"/user/"+a()).then(function(e){i.user=e.data,o.resolve(e)},function(e){o.reject(e)}),o.promise},this.update=function(o){var r=t.defer();return e.put(n.url+"/user/"+a(),o).then(function(e){i.user=e.data,r.resolve(e)},function(e){r.reject(e)}),r.promise}}angular.module("app").service("UserService",["$http","$q","ApiUrl",e])}(),function(){"use strict";function e(e){var t=[{name:"Dashboard",icon:"dashboard",sref:".dashboard"},{name:"Profile",icon:"person",sref:".profile"}];this.loadAllItems=function(){return e.when(t)}}angular.module("app").service("NavService",["$q",e])}(),function(){"use strict";function e(e,t,n){this.request=function(t){return-1!==t.url.indexOf(e.url)&&(t.headers["x-access-token"]=window.localStorage.getItem("token-auth")),t},this.response=function(e){return n.$broadcast("response:sucess:"+e.config.method),e},this.responseError=function(e){return n.$broadcast("response:error:"+e.config.method),t.reject(e)}}angular.module("app").service("Interceptor",["ApiUrl","$q","$rootScope",e])}(),function(){"use strict";function e(e,t,n){e.user={},e.register=function(){n.postUser(e.user).then(function(){t.go("login")},function(){})}}angular.module("app").controller("SignupController",["$scope","$state","UserService",e])}(),function(){"use strict";function e(e,t){t.get().then(function(t){e.user=t.data},function(){}),e.update=function(){t.update(e.user).then(function(){},function(){})}}angular.module("app").controller("ProfileController",["$scope","UserService",e])}(),function(){"use strict";function e(e,t,n,o){e.menuItems=[],e.logout=function(){o.logout().then(function(){t.go("login")},function(){})},n.loadAllItems().then(function(t){e.menuItems=[].concat(t)})}angular.module("app").controller("MainController",["$scope","$state","NavService","UserService",e])}(),function(){"use strict";function e(e,t,n){e.user={},e.login=function(){n.login(e.user).then(function(){t.go("home.profile")},function(){})},e.register=function(){t.go("signup")}}angular.module("app").controller("LoginController",["$scope","$state","UserService",e])}(),angular.module("angularMaterialAdmin",["ngAnimate","ngCookies","ngTouch","ngSanitize","ui.router","ngMaterial","nvd3","app"]).config(["$stateProvider","$urlRouterProvider","$mdThemingProvider","$mdIconProvider",function(e,t,n,o){e.state("login",{url:"/login",templateUrl:"app/views/login.html",controller:"LoginController",authRequired:!1}).state("signup",{url:"/signup",templateUrl:"app/views/signup.html",controller:"SignupController",authRequired:!1}).state("home",{url:"",templateUrl:"app/views/main.html",controller:"MainController","abstract":!0}).state("home.dashboard",{url:"/dashboard",templateUrl:"app/views/dashboard.html",data:{title:"Dashboard"},authRequired:!0}).state("home.profile",{url:"/profile",templateUrl:"app/views/profile.html",controller:"ProfileController",controllerAs:"vm",data:{title:"Profile"},authRequired:!0}),t.otherwise("/dashboard"),n.theme("default").primaryPalette("grey",{"default":"600"}).accentPalette("teal",{"default":"500"}).warnPalette("defaultPrimary"),n.theme("dark","default").primaryPalette("defaultPrimary").dark(),n.theme("grey","default").primaryPalette("grey"),n.theme("custom","default").primaryPalette("defaultPrimary",{"hue-1":"50"}),n.definePalette("defaultPrimary",{50:"#FFFFFF",100:"rgb(255, 198, 197)",200:"#E75753",300:"#E75753",400:"#E75753",500:"#E75753",600:"#E75753",700:"#E75753",800:"#E75753",900:"#E75753",A100:"#E75753",A200:"#E75753",A400:"#E75753",A700:"#E75753"}),o.icon("user","assets/images/user.svg",64)}]),angular.module("angularMaterialAdmin").run(["$templateCache",function(e){e.put("app/views/dashboard.html","<md-content>TODO!</md-content>"),e.put("app/views/login.html",'<div layout="column" flex="" id="content" role="main"><md-content layout="vertical" flex="" id="content"><div layout="row" layout-align="center center" layout-fill=""><md-whiteframe class="md-whiteframe-z1" layout="column" flex="30" layout-padding=""><md-content md-theme="docs-dark"><form id="form-login" data-parsley-validate="" ng-submit="login()"><md-input-container><label>Email</label> <input required="" ng-model="user.email" type="email"></md-input-container><md-input-container><label>Password</label> <input required="" ng-model="user.password" type="password"></md-input-container><md-input-container layout-align="center center"><div layout="row" layout-sm="column" layout-margin=""><md-button type="submit" class="md-raised" flex="50" flex-sm="100">Login</md-button><md-button type="button" ng-click="register()" class="md-raised md-primary" flex="50" flex-sm="100">Register</md-button></div></md-input-container></form></md-content></md-whiteframe></div></md-content></div>'),e.put("app/views/main.html",'<md-sidenav md-is-locked-open="$mdMedia(\'gt-sm\')" md-component-id="left" class="md-whiteframe-z2 md-sidenav-left"><md-toolbar md-theme="custom" class="md-hue-1 md-whiteframe-z2"><md-button layout="row" layout-align="center center" class="md-toolbar-tools md-warn"><h1>SA</h1></md-button></md-toolbar><md-button ng-repeat-start="item in menuItems" layout="column" layout-align="center center" flex="" class="capitalize" ui-sref-active="md-warn" ui-sref="{{ item.sref }}"><div hide-sm="" hide-md="" class="md-tile-content"><i class="material-icons md-36">{{ item.icon }}</i></div><div class="md-tile-content">{{ item.name }}</div></md-button><md-divider ng-repeat-end=""></md-divider></md-sidenav><div layout="column" flex=""><md-toolbar layout="row" layout-align="end center"><md-button ng-click="logout()" hide-sm="" class="toolbar-button" aria-label="exit_to_app"><i class="material-icons">exit_to_app</i></md-button></md-toolbar><md-content flex="" class="md-padding page-content"><div ui-view=""></div></md-content></div>'),e.put("app/views/profile.html",'<form id="form-profile" data-parsley-validate="" ng-submit="update()"><md-content md-theme="dark" class="md-padding" layout="row" layout-sm="column"><md-input-container><label>Username *</label> <input required="" ng-model="user.name" type="text"></md-input-container><md-input-container><label>Email *</label> <input required="" ng-model="user.email" type="email"></md-input-container></md-content><md-content class="md-padding"><md-input-container flex=""><label>Address</label> <input ng-model="user.address"></md-input-container><div layout="" layout-sm="column"><md-input-container flex=""><label>City</label> <input ng-model="user.city"></md-input-container><md-input-container flex=""><label>State</label> <input ng-model="user.state"></md-input-container><md-input-container flex=""><label>Postal Code</label> <input ng-model="user.postalCode"></md-input-container></div><md-input-container flex=""><label>About us</label> <textarea ng-model="user.about" columns="1" md-maxlength="150"></textarea></md-input-container><md-input-container><div layout="row" layout-sm="column"><md-button type="submit" class="md-raised md-primary" flex="25" flex-sm="25">Salvar</md-button></div></md-input-container></md-content></form>'),e.put("app/views/signup.html",'<div layout="column" flex="" id="content" role="main"><md-content layout="vertical" flex="" id="content"><div layout="row" layout-align="center center" layout-fill=""><md-whiteframe class="md-whiteframe-z1" layout="column" flex="30" layout-padding=""><md-content md-theme="docs-dark"><form id="signup-form" data-parsley-validate="" ng-submit="register()"><md-input-container><label>Name</label> <input type="text" required="" ng-model="user.name"></md-input-container><md-input-container><label>Email</label> <input type="email" required="" ng-model="user.email"></md-input-container><md-input-container><label>Password</label> <input required="" ng-model="user.password" type="password"></md-input-container><md-input-container layout-align="center center"><div layout="row" layout-sm="column" layout-margin=""><md-button type="submit" class="md-raised md-primary" flex="50" flex-sm="100">Register</md-button></div></md-input-container></form></md-content></md-whiteframe></div></md-content></div>')}]);